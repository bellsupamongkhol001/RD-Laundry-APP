<h2>ðŸ—– Stock Inventory Management</h2>

<div class="stock-header-tools">
  <input type="text" id="searchInput" placeholder="Search by Item Name, Size, or Color" onkeyup="filterStockCards()">
  <button class="inventory-count-btn" onclick="openInventoryCountModal()">Monthly Stock Count</button>
  <button class="export-btn" onclick="exportStockData()">Export Full Report</button>
</div>

<div class="stock-items-section">
  <h2>ðŸ“‹ Current Stock Items</h2>
  <div class="card-container" id="stockCardContainer">
    <!-- Stock cards will be rendered by JS -->
  </div>
</div>

<div class="stock-history-section">
  <h2>ðŸ“œ Stock Movement History</h2>
  <table class="history-table">
    <thead>
      <tr>
        <th>Date</th>
        <th>Item Code</th>
        <th>Item Name</th>
        <th>Adjustment</th>
        <th>Reason</th>
        <th>Operator</th>
      </tr>
    </thead>
    <tbody id="historyTableBody">
      <!-- Movement history entries will be rendered dynamically -->
    </tbody>
  </table>
</div>

<!-- Detail Modal -->
<div class="modal-overlay" id="detailModal" style="display:none;">
  <div class="modal">
    <h3>ðŸ“„ Uniform Usage Detail</h3>
    <table class="detail-table">
      <thead>
        <tr>
          <th>Uniform Code</th>
          <th>Employee ID</th>
          <th>Employee Name</th>
          <th>Q'ty</th>
        </tr>
      </thead>
      <tbody id="detailTableBody">
        <!-- Content will be inserted by JS -->
      </tbody>
    </table>
    <button class="close-btn" onclick="closeDetailModal()">Close</button>
  </div>
</div>

<!-- Inventory Count Modal -->
<div class="modal-overlay" id="countModal" style="display:none;">
  <div class="modal">
    <h3>ðŸ“– Monthly Stock Count</h3>
    <input type="text" id="countSearchInput" placeholder="Search by Name, Size, or Color" onkeyup="filterCountTable()">
    <table class="detail-table">
      <thead>
        <tr>
          <th>Item Name</th>
          <th>Size</th>
          <th>Color</th>
          <th>Stock Qty</th>
          <th>Actual Count</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody id="countTableBody">
        <!-- JS will populate this table with items and input fields -->
      </tbody>
    </table>
    <div class="summary-row">
      <strong>Total Counted Items:</strong> <span id="totalCounted">0</span>
    </div>
    <button class="add-uniform-btn" onclick="confirmSubmitInventoryCount()">Submit</button>
    <button class="delete-btn" onclick="cancelInventoryCount()">Cancel</button>
  </div>
</div>

<!-- Count History Modal -->
<div class="modal-overlay" id="countHistoryModal" style="display:none;">
  <div class="modal">
    <h3>ðŸ–“ Stock Count History</h3>
    <input type="text" id="historySearchInput" placeholder="Search history..." onkeyup="filterHistoryTable()">
    <table class="detail-table">
      <thead>
        <tr>
          <th>Date</th>
          <th>Item Code</th>
          <th>Item Name</th>
          <th>Size</th>
          <th>Color</th>
          <th>Stock Qty</th>
          <th>Counted Qty</th>
          <th>Operator</th>
        </tr>
      </thead>
      <tbody id="countHistoryTableBody">
        <!-- Filled by JS -->
      </tbody>
    </table>
    <button class="close-btn" onclick="closeCountHistoryModal()">Close</button>
    <button class="export-btn" onclick="exportCountHistory()">Export</button>
  </div>
</div>

<link rel="stylesheet" href="assets/css/stock.css">
<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
<script src="assets/js/stock.js"></script>
